@let user = user$ | async;
<!-- Navbar -->
<nav class="navbar">
    <!-- Logo -->
    <a routerLink="/" class="logo">
        <div class="logo-icon">T</div>
        <span>Toolsnearme</span>
    </a>

    <!-- Search -->
    <div class="search-container">
        <div class="search-wrapper">
            <input 
                type="text" 
                placeholder="Search tools..."
                [(ngModel)]="searchQuery"
                (keyup)="handleSearch()"
            >
            <span class="search-icon">üîç</span>
        </div>
        @if (showSearchResults) {
            <div class="search-results">
                @for (result of searchResults; track result) {
                    <div class="search-result-item" (click)="selectResult(result)">
                        {{ result }}
                    </div>
                }
                @if (searchResults.length === 0) {
                    <div class="search-result-item">No results found</div>
                }
            </div>
        }
    </div>

    <!-- Right Actions -->
    <div class="nav-right">
        <button class="nav-action" title="Wishlist">‚ù§Ô∏è</button>

        @if (user != null) {
            <div class="profile-wrapper">
                <button class="profile-btn" (click)="toggleDropdown()">
                    <div class="profile-avatar">üë§</div>
                    <span>Account</span>
                </button>
                
                <div class="dropdown-menu" [class.active]="dropdownOpen">
                    <a (click)="navigateToProfile($event)">My Profile</a>
                    <a (click)="logout($event)">Logout</a>
                </div>
            </div>
        } @else {
            <a class="btn-login" [routerLink]="'/Login'">Log In</a>
            <a class="btn-signup" [routerLink]="'/Signup'">Sign Up</a>
        }
    </div>
</nav>